<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>crowd-funding</title>
    <link rel="stylesheet" href="styling.css"/>
    <link rel="icon" href="./images/logo.png"/>
</head>
<body>
<header>
    <div class="navbar">
        <img src="./images/logo.png" style="padding-left: 15px;"/>
        <a href="#">Home</a>
        <a href="#" id="donate-btn">Donate</a>
        <a href="#" id="fundraise-btn">Fundraise</a>
        <a href="#" id="about-btn">About us</a>
        <a href="login.html" id="login-btn" style="padding-right: 3%;">Log in</a>        
        </div>
       
    </div>
</header>
<div id="dynamic-bg"></div>

<div class="image-display">
    <img src="./images/poverty.png" alt="image on poverty"/>
</div>

<div class="text-container">
    Join the movement!
</div>

<div id="donate-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Donate to a Cause</h2>
        <form id="donate-form">
            <!-- <label for="reason">Reason for Fundraising:</label><br>
            <textarea id="reason" name="reason" rows="4" placeholder="Enter your reason..." required></textarea><br><br>

            <label for="story">Your Story:</label><br>
            <textarea id="story" name="story" rows="6" placeholder="Share your story..." required></textarea><br><br> -->

            <label for="amount">Donation Amount:</label><br>
            <input type="number" id="amount" name="amount" min="1" placeholder="Enter amount in USD" required/><br><br>

            <button type="submit" id="donate-submit">Submit Donation</button>
        </form>
    </div>
</div>

<div id="fundraise-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Start a Fundraiser</h2>
        <form id="fundraise-form">
            <label for="fundraise-option">Select an Option:</label><br>
            <select id="fundraise-option" name="fundraise-option" required>
                <option value="">Choose an option</option>
                <option value="Yourself">Yourself</option>
                <option value="Friends and Family">Friends and Family</option>
                <option value="Charity">Charity</option>
                <option value="Startup">Startup</option>
            </select>
            <br>
            <br>

            <label for="fundraise-reason">Reason for Fundraising:</label><br>
            <textarea id="fundraise-reason" name="fundraise-reason" rows="4" placeholder="Enter your reason..." required></textarea>
            <br>
            <br>

            <label for="fundraise-story">Your Story:</label><br>
            <textarea id="fundraise-story" name="fundraise-story" rows="6" placeholder="Share your story..." required></textarea>
            <br>
            <br>

            <button type="submit" id="fundraise-submit">Submit Fundraiser</button>
        </form>
    </div>
</div>

<div class="image-display">
    <img src="./images/front-face.png"/>  

    <div class="left-images">
        <div class="image-container">
            <img src="./images/friend-and-family.png" alt="Logo"/>
            Friends and family
        </div>
        <div class="image-container">
            <img src="./images/charity.png" alt="Another Image"/>
            Charity
        </div>
    </div>
    
    <div class="right-images">
        <div class="image-container">
            <img src="./images/startup.png" alt="Charity"/>
            Startup
        </div>
        <div class="image-container">
            <img src="./images/your-cause.png" alt="Background"/>
            Your cause
        </div>
    </div>  
</div>


<!-- <div class="text-container-image">
    
    <div class="heading">
        <b> Crowd-funding platform    </b>
    </div>
    <br>
    <div class="info">
        Get started in just a few minutes â€” with helpful new tools,
        it's easier than ever to pick the perfect title, write a compelling story, and share it with the world.
    </div>
    
</div> -->




<!-- <div id="login-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Log In</h2>
        <form>
            <input type="email" placeholder="Email" required><br><br>
            <input type="password" placeholder="Password" required><br><br>
            <button type="submit">Log In</button>
        </form>
    </div>
</div> -->
    
<script>
    document.addEventListener("DOMContentLoaded", () => {
        let activeFundraisers = []; // Array to store active fundraisers

        const donateBtn = document.getElementById("donate-btn");
        const donateModal = document.getElementById("donate-modal");
        const donateForm = document.getElementById("donate-form");
        const donationList = document.getElementById("donation-list");
        const fundraiserSelect = document.createElement("select"); // Dropdown for selecting fundraisers

        fundraiserSelect.id = "fundraiser-select";
        fundraiserSelect.required = true;

        donateForm.insertBefore(fundraiserSelect, donateForm.firstChild); // Add select field to donation form

        donateBtn.onclick = (event) => {
            event.preventDefault();
            if (activeFundraisers.length === 0) {
                alert("No active fundraisers available. Start a fundraiser first!");
                return;
            }
            updateFundraiserDropdown();
            donateModal.style.display = "flex";
        };

        function updateFundraiserDropdown() {
            fundraiserSelect.innerHTML = "";
            activeFundraisers.forEach((fundraiser, index) => {
                const option = document.createElement("option");
                option.value = index;
                option.textContent = `${fundraiser.option} - ${fundraiser.reason}`;
                fundraiserSelect.appendChild(option);
            });
        }

        donateForm.onsubmit = (event) => {
            event.preventDefault();
            const selectedFundraiserIndex = fundraiserSelect.value;
            const amount = document.getElementById("amount").value;

            if (selectedFundraiserIndex !== "" && amount) {
                const selectedFundraiser = activeFundraisers[selectedFundraiserIndex];

                const donationItem = document.createElement("li");
                donationItem.innerHTML = `
                    <strong>${selectedFundraiser.option} - ${selectedFundraiser.reason}</strong>: $${amount}
                `;
                donationList.appendChild(donationItem);

                donateForm.reset();
                donateModal.style.display = "none";

                alert(`Thank you for donating $${amount} to "${selectedFundraiser.reason}"`);
            } else {
                alert("Please select a fundraiser and enter a donation amount.");
            }
        };

        const fundraiseBtn = document.getElementById("fundraise-btn");
        const fundraiseModal = document.getElementById("fundraise-modal");
        const fundraiseForm = document.getElementById("fundraise-form");

        // close button 
        const closeBtns = document.querySelectorAll(".close");

        closeBtns.forEach((closeBtn) => {
        closeBtn.addEventListener("click", () => {
            closeBtn.closest(".modal").style.display = "none";
            });
        });

        fundraiseBtn.onclick = (event) => {
            event.preventDefault();
            fundraiseModal.style.display = "flex";
        };

        fundraiseForm.onsubmit = (event) => {
            event.preventDefault();
            const option = document.getElementById("fundraise-option").value;
            const reason = document.getElementById("fundraise-reason").value;
            const story = document.getElementById("fundraise-story").value;

            if (option && reason && story) {
                activeFundraisers.push({ option, reason, story });
                updateFundraiserDropdown();
                alert(`Fundraiser Created: ${option} - ${reason}`);

                fundraiseForm.reset();
                fundraiseModal.style.display = "none";
            } else {
                alert("Please fill out all fields.");
            }
        };
});

</script>
<div class="text-container">
    Join our community and support causes that matter. Fundraising has never been easier or more impactful. Start your journey with us today!
</div>
<br>
<!-- <div class="text-container-about">
    <b>Fundraising on this platform is easy,powerful and trusted.</b>
    Get what you need to help your fundraiser succeed on CrowndFunding, whether you're raising money for yourself, friends, family, or charity.
    Whenever you need help, you can ask here.
    
</div> -->
<div id="donation-records" class="donation-records">
    <h3>Donation Records</h3>
    <ul id="donation-list"></ul>
</div>
<footer>
    <p>Email: support@fundhive.com</p>
    <p>Phone: +91 9876543210</p>
    <p>Social Media: </p>
    <p>&copy;2025 FundHive</p>
</footer>
</body>
</html>
